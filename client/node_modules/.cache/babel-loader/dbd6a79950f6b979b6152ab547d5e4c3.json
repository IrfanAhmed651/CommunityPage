{"ast":null,"code":"var _jsxFileName = \"D:\\\\CSE470\\\\CP\\\\client\\\\src\\\\Comments.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport TimeAgo from 'timeago-react';\nimport Button from \"./Button\";\nimport CommentForm from \"./CommentForm\";\nimport { useState, useContext } from 'react';\nimport RootCommentContext from \"./RootCommentContext\";\nimport ReactMarkdown from \"react-markdown\";\nimport gfm from \"remark-gfm\";\nimport Voting from \"./Voting\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Comments(props) {\n  _s();\n\n  const [showForm, setShowForm] = useState(false);\n  const comments = props.comments.filter(comment => props.parentId === comment.parentId);\n  const rootCommentInfo = useContext(RootCommentContext);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'my-2 text-rt',\n    children: comments.map(comment => {\n      const replies = props.comments.filter(c => c.parentId === comment._id);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'mb-2',\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-rt w-10 h-10 rounded-full mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 23,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"leading-10 pr-2 text-lg font-sans\",\n            children: comment.author\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TimeAgo, {\n            className: \"leading-10 text-md font-sans\",\n            datetime: comment.postedAt\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-l-2 border-rt-darker p-3 pb-0\",\n          style: {\n            marginLeft: '18px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pl-4 -mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n                remarkPlugins: [gfm],\n                children: comment.body\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 31,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Voting, {\n              commentId: comment._id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: 'button',\n              onClick: () => setShowForm(comment._id),\n              className: \"bg-rd-lowbright text-rt-darker border-none py-2 pl-0 pr-0\",\n              children: \"Reply\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 33\n            }, this), comment._id === showForm && /*#__PURE__*/_jsxDEV(CommentForm, {\n              parentId: comment._id,\n              rootId: props.rootId,\n              onSubmit: () => {\n                setShowForm(false);\n                rootCommentInfo.refreshComments();\n              },\n              showAuthor: false,\n              onCancel: e => setShowForm(false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 37\n            }, this), replies.length > 0 && /*#__PURE__*/_jsxDEV(Comments, {\n              comments: props.comments,\n              parentId: comment._id,\n              rootId: props.rootId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 21\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Comments, \"/3pWjfwnxp9xqwiD5vOfqHinnFY=\");\n\n_c = Comments;\nexport default Comments;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comments\");","map":{"version":3,"names":["React","TimeAgo","Button","CommentForm","useState","useContext","RootCommentContext","ReactMarkdown","gfm","Voting","Comments","props","showForm","setShowForm","comments","filter","comment","parentId","rootCommentInfo","map","replies","c","_id","author","postedAt","marginLeft","body","rootId","refreshComments","e","length"],"sources":["D:/CSE470/CP/client/src/Comments.js"],"sourcesContent":["import React from 'react'\r\nimport TimeAgo from 'timeago-react';\r\nimport Button from \"./Button\";\r\nimport CommentForm from \"./CommentForm\";\r\nimport { useState, useContext } from 'react';\r\nimport RootCommentContext from \"./RootCommentContext\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport gfm from \"remark-gfm\";\r\nimport Voting from \"./Voting\";\r\n\r\nfunction Comments(props) {\r\n    const [showForm, setShowForm] = useState(false);\r\n    const comments = props.comments.filter(comment => props.parentId === comment.parentId);\r\n    const rootCommentInfo = useContext(RootCommentContext);\r\n\r\n    return (\r\n        <div className={'my-2 text-rt'}>\r\n            {comments.map(comment => {\r\n                const replies = props.comments.filter(c => c.parentId === comment._id);\r\n                return (\r\n                    <div className={'mb-2'}>\r\n                        <div className=\"flex mb-2\">\r\n                            <div className=\"bg-rt w-10 h-10 rounded-full mr-2\" />\r\n                            <div className=\"leading-10 pr-2 text-lg font-sans\">{comment.author}</div>\r\n                            <TimeAgo className=\"leading-10 text-md font-sans\" datetime={comment.postedAt} />\r\n                        </div>\r\n                        <div className=\"border-l-2 border-rt-darker p-3 pb-0\"\r\n                            style={{ marginLeft: '18px' }}>\r\n                            <div className=\"pl-4 -mt-4\">\r\n                                <div>\r\n                                    <ReactMarkdown remarkPlugins={[gfm]} children={comment.body} />\r\n                                </div>\r\n                                <Voting commentId={comment._id} />\r\n                                <Button type={'button'}\r\n                                    onClick={() => setShowForm(comment._id)}\r\n                                    className=\"bg-rd-lowbright text-rt-darker border-none py-2 pl-0 pr-0\">Reply</Button>\r\n                                {comment._id === showForm && (\r\n                                    <CommentForm\r\n                                        parentId={comment._id}\r\n                                        rootId={props.rootId}\r\n                                        onSubmit={() => {\r\n                                            setShowForm(false);\r\n                                            rootCommentInfo.refreshComments();\r\n                                        }}\r\n                                        showAuthor={false}\r\n                                        onCancel={e => setShowForm(false)} />\r\n                                )}\r\n                                {replies.length > 0 && (\r\n                                    <Comments comments={props.comments} parentId={comment._id} rootId={props.rootId} />\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Comments;"],"mappings":"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"},"metadata":{},"sourceType":"module"}