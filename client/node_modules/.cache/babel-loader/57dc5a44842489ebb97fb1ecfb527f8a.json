{"ast":null,"code":"var _jsxFileName = \"D:\\\\CSE470\\\\CP\\\\client\\\\src\\\\CommentForm.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useContext, useState } from \"react\";\nimport UserContext from \"./UserContext\";\nimport Textarea from \"./Textarea\";\nimport Button from \"./Button\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CommentForm(props) {\n  _s();\n\n  const userInfo = useContext(UserContext);\n  const [commentBody, setCommentBody] = useState('');\n\n  function postComment(e) {\n    e.preventDefault();\n    const data = {\n      body: commentBody,\n      parentId: props.parentId,\n      rootId: props.rootId\n    };\n    axios.post('http://localhost:4000/comments', data, {\n      withCredentials: true\n    }).then(response => {\n      setCommentBody('');\n\n      if (props.onSubmit) {\n        props.onSubmit();\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'text-rt',\n    children: [userInfo.username && props.showAuthor && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2\",\n      children: [\"Comment as \", userInfo.username]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => postComment(e),\n      children: [/*#__PURE__*/_jsxDEV(Textarea, {\n        className: \"w-full mb-3 border border-rb\",\n        onChange: e => setCommentBody(e.target.value),\n        value: commentBody,\n        placeholder: 'Your comment. You can use markdown here'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-right\",\n        children: [!!props.onCancel && /*#__PURE__*/_jsxDEV(Button, {\n          outline: true,\n          className: \"p-2 mr-2\",\n          onClick: e => props.onCancel(),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"p- text-blck-400\",\n          children: \"Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CommentForm, \"HGtmWsLyySvotmtA5EBL+9qUEmw=\");\n\n_c = CommentForm;\nexport default CommentForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"CommentForm\");","map":{"version":3,"names":["React","useContext","useState","UserContext","Textarea","Button","axios","CommentForm","props","userInfo","commentBody","setCommentBody","postComment","e","preventDefault","data","body","parentId","rootId","post","withCredentials","then","response","onSubmit","username","showAuthor","target","value","onCancel"],"sources":["D:/CSE470/CP/client/src/CommentForm.js"],"sourcesContent":["import React from 'react'\r\nimport { useContext, useState } from \"react\";\r\nimport UserContext from \"./UserContext\";\r\nimport Textarea from \"./Textarea\";\r\nimport Button from \"./Button\";\r\nimport axios from \"axios\";\r\n\r\nfunction CommentForm(props) {\r\n    const userInfo = useContext(UserContext);\r\n    const [commentBody, setCommentBody] = useState('');\r\n    function postComment(e) {\r\n        e.preventDefault();\r\n        const data = { body: commentBody, parentId: props.parentId, rootId: props.rootId, };\r\n        axios.post('http://localhost:4000/comments', data, { withCredentials: true })\r\n            .then(response => {\r\n                setCommentBody('');\r\n                if (props.onSubmit) {\r\n                    props.onSubmit();\r\n                }\r\n            });\r\n    }\r\n    return (\r\n        <div className={'text-rt'}>\r\n            {userInfo.username && props.showAuthor && (\r\n                <div className=\"mb-2\">\r\n                    Comment as {userInfo.username}\r\n                </div>\r\n            )}\r\n\r\n            <form onSubmit={e => postComment(e)}>\r\n                <Textarea className=\"w-full mb-3 border border-rb\"\r\n                    onChange={e => setCommentBody(e.target.value)}\r\n                    value={commentBody}\r\n                    placeholder={'Your comment. You can use markdown here'} />\r\n                <div className=\"text-right\">\r\n                    {!!props.onCancel && (\r\n                        <Button outline\r\n                            className=\"p-2 mr-2\"\r\n                            onClick={e => props.onCancel()}>Cancel</Button>\r\n                    )}\r\n                    <Button className=\"p- text-blck-400\">Comment</Button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CommentForm;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,OAArC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;EAAA;;EACxB,MAAMC,QAAQ,GAAGR,UAAU,CAACE,WAAD,CAA3B;EACA,MAAM,CAACO,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAAC,EAAD,CAA9C;;EACA,SAASU,WAAT,CAAqBC,CAArB,EAAwB;IACpBA,CAAC,CAACC,cAAF;IACA,MAAMC,IAAI,GAAG;MAAEC,IAAI,EAAEN,WAAR;MAAqBO,QAAQ,EAAET,KAAK,CAACS,QAArC;MAA+CC,MAAM,EAAEV,KAAK,CAACU;IAA7D,CAAb;IACAZ,KAAK,CAACa,IAAN,CAAW,gCAAX,EAA6CJ,IAA7C,EAAmD;MAAEK,eAAe,EAAE;IAAnB,CAAnD,EACKC,IADL,CACUC,QAAQ,IAAI;MACdX,cAAc,CAAC,EAAD,CAAd;;MACA,IAAIH,KAAK,CAACe,QAAV,EAAoB;QAChBf,KAAK,CAACe,QAAN;MACH;IACJ,CANL;EAOH;;EACD,oBACI;IAAK,SAAS,EAAE,SAAhB;IAAA,WACKd,QAAQ,CAACe,QAAT,IAAqBhB,KAAK,CAACiB,UAA3B,iBACG;MAAK,SAAS,EAAC,MAAf;MAAA,0BACgBhB,QAAQ,CAACe,QADzB;IAAA;MAAA;MAAA;MAAA;IAAA,QAFR,eAOI;MAAM,QAAQ,EAAEX,CAAC,IAAID,WAAW,CAACC,CAAD,CAAhC;MAAA,wBACI,QAAC,QAAD;QAAU,SAAS,EAAC,8BAApB;QACI,QAAQ,EAAEA,CAAC,IAAIF,cAAc,CAACE,CAAC,CAACa,MAAF,CAASC,KAAV,CADjC;QAEI,KAAK,EAAEjB,WAFX;QAGI,WAAW,EAAE;MAHjB;QAAA;QAAA;QAAA;MAAA,QADJ,eAKI;QAAK,SAAS,EAAC,YAAf;QAAA,WACK,CAAC,CAACF,KAAK,CAACoB,QAAR,iBACG,QAAC,MAAD;UAAQ,OAAO,MAAf;UACI,SAAS,EAAC,UADd;UAEI,OAAO,EAAEf,CAAC,IAAIL,KAAK,CAACoB,QAAN,EAFlB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFR,eAMI,QAAC,MAAD;UAAQ,SAAS,EAAC,kBAAlB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QANJ;MAAA;QAAA;QAAA;QAAA;MAAA,QALJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAPJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAwBH;;GAtCQrB,W;;KAAAA,W;AAwCT,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}