{"ast":null,"code":"var _jsxFileName = \"D:\\\\CSE470\\\\CP\\\\client\\\\src\\\\Voting.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport axios from 'axios';\nimport { useContext } from \"react\";\nimport RootCommentContext from \"./RootCommentContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Voting(props) {\n  _s();\n\n  const rootCommentInfo = useContext(RootCommentContext);\n  const {\n    commentsTotals,\n    userVotes\n  } = rootCommentInfo;\n  const {\n    commentId\n  } = props;\n  const total = commentsTotals && commentId in commentsTotals ? commentsTotals[commentId] : 0;\n  const userVote = userVotes && commentId in userVotes ? userVotes[commentId] : 0;\n\n  function sendVote() {\n    let direction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'up';\n    const directionNumber = direction === 'up' ? 1 : -1;\n\n    if (directionNumber === userVote) {\n      direction = 'unvote';\n    }\n\n    const url = 'http://localhost:4000/vote/' + props.commentId + '/' + direction;\n    axios.get(url, {\n      withCredentials: true\n    }).then(() => {\n      rootCommentInfo.refreshVotes();\n    });\n  }\n\n  function handleVoteUp() {\n    sendVote('up');\n  }\n\n  function handleVoteDown() {\n    sendVote('down');\n  }\n\n  function arrowButton() {\n    let directionName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'up';\n    const directionNumber = directionName === 'up' ? 1 : -1;\n    let classNames = 'inline-block h-5 relative top-1 ';\n\n    if (directionNumber === userVote) {\n      classNames += ' text-reddit_red';\n    } else {\n      classNames += ' text-rt-darker hover:text-white';\n    }\n\n    if (directionName === 'up') {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleVoteUp(),\n        className: classNames,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-5 w-5\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleVoteDown(),\n        className: classNames,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-5 w-5\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'inline-block mr-2',\n    children: [arrowButton('up'), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'inline-block',\n      children: total\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), arrowButton('down')]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Voting, \"AExTUkOxZcor29gj1+J1Gq62MKE=\");\n\n_c = Voting;\nexport default Voting;\n\nvar _c;\n\n$RefreshReg$(_c, \"Voting\");","map":{"version":3,"names":["React","axios","useContext","RootCommentContext","Voting","props","rootCommentInfo","commentsTotals","userVotes","commentId","total","userVote","sendVote","direction","directionNumber","url","get","withCredentials","then","refreshVotes","handleVoteUp","handleVoteDown","arrowButton","directionName","classNames"],"sources":["D:/CSE470/CP/client/src/Voting.js"],"sourcesContent":["import React from 'react'\r\nimport axios from 'axios';\r\nimport { useContext } from \"react\";\r\nimport RootCommentContext from \"./RootCommentContext\";\r\n\r\nfunction Voting(props) {\r\n\r\n    const rootCommentInfo = useContext(RootCommentContext);\r\n    const { commentsTotals, userVotes } = rootCommentInfo;\r\n    const { commentId } = props;\r\n\r\n    const total = commentsTotals && commentId in commentsTotals\r\n        ? commentsTotals[commentId]\r\n        : 0;\r\n\r\n    const userVote = userVotes && commentId in userVotes\r\n        ? userVotes[commentId]\r\n        : 0;\r\n\r\n    function sendVote(direction = 'up') {\r\n        const directionNumber = direction === 'up' ? 1 : -1;\r\n        if (directionNumber === userVote) {\r\n            direction = 'unvote';\r\n        }\r\n        const url = 'http://localhost:4000/vote/' + props.commentId + '/' + direction;\r\n        axios.get(url, { withCredentials: true })\r\n            .then(() => {\r\n                rootCommentInfo.refreshVotes();\r\n            })\r\n    }\r\n\r\n    function handleVoteUp() {\r\n        sendVote('up');\r\n    }\r\n\r\n    function handleVoteDown() {\r\n        sendVote('down');\r\n    }\r\n\r\n    function arrowButton(directionName = 'up') {\r\n        const directionNumber = directionName === 'up' ? 1 : -1;\r\n        let classNames = 'inline-block h-5 relative top-1 ';\r\n\r\n        if (directionNumber === userVote) {\r\n            classNames += ' text-reddit_red';\r\n        } else {\r\n            classNames += ' text-rt-darker hover:text-white';\r\n        }\r\n\r\n        if (directionName === 'up') {\r\n            return (\r\n                <button onClick={() => handleVoteUp()} className={classNames}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                        <path fillRule=\"evenodd\" d=\"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                </button>\r\n            );\r\n        } else {\r\n            return (\r\n                <button onClick={() => handleVoteDown()} className={classNames}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                        <path fillRule=\"evenodd\" d=\"M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                </button>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={'inline-block mr-2'}>\r\n            {arrowButton('up')}\r\n            <div className={'inline-block'}>{total}</div>\r\n            {arrowButton('down')}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Voting;"],"mappings":"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"},"metadata":{},"sourceType":"module"}