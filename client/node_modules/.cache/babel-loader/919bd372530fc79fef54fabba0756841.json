{"ast":null,"code":"var _jsxFileName = \"D:\\\\CSE470\\\\CP\\\\client\\\\src\\\\RoutingSwitch.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Route, Switch, useLocation } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport Board from \"./Board\";\nimport CommentPage from \"./CommentPage\";\nimport CommentModal from \"./CommentModal\";\nimport SearchResultsPage from \"./SearchResultsPage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction RoutingSwitch() {\n  _s();\n\n  const [postOpen, setPostOpen] = useState(false); // const [commentId, setCommentId] = useState(null);\n\n  let location = useLocation();\n  let commentId = null;\n\n  if (location.state && location.state.commentId) {\n    location.pathname = '/';\n\n    if (postOpen) {\n      commentId = location.state.commentId;\n    } else {\n      location.state.commentId = null;\n    }\n  }\n\n  useEffect(() => {\n    setPostOpen(true);\n  }, [commentId]);\n  useEffect(() => {\n    commentId = null;\n  }, [postOpen]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [commentId && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(CommentModal, {\n        id: commentId,\n        open: postOpen,\n        onClickOut: () => setPostOpen(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      location: location,\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        component: Board\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/comments/:id\",\n        component: CommentPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/search/:text\",\n        component: SearchResultsPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(RoutingSwitch, \"zipJwDurGSj69vcQlunXxsd4fPI=\", false, function () {\n  return [useLocation];\n});\n\n_c = RoutingSwitch;\nexport default RoutingSwitch;\n\nvar _c;\n\n$RefreshReg$(_c, \"RoutingSwitch\");","map":{"version":3,"names":["React","Route","Switch","useLocation","useState","useEffect","Board","CommentPage","CommentModal","SearchResultsPage","RoutingSwitch","postOpen","setPostOpen","location","commentId","state","pathname"],"sources":["D:/CSE470/CP/client/src/RoutingSwitch.js"],"sourcesContent":["import React from 'react'\r\nimport { Route, Switch, useLocation } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Board from \"./Board\";\r\nimport CommentPage from \"./CommentPage\";\r\nimport CommentModal from \"./CommentModal\";\r\nimport SearchResultsPage from \"./SearchResultsPage\";\r\n\r\nfunction RoutingSwitch() {\r\n\r\n    const [postOpen, setPostOpen] = useState(false);\r\n    // const [commentId, setCommentId] = useState(null);\r\n\r\n    let location = useLocation();\r\n    let commentId = null;\r\n\r\n    if (location.state && location.state.commentId) {\r\n        location.pathname = '/';\r\n        if (postOpen) {\r\n            commentId = location.state.commentId;\r\n        } else {\r\n            location.state.commentId = null;\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        setPostOpen(true);\r\n    }, [commentId]);\r\n\r\n    useEffect(() => {\r\n        commentId = null;\r\n    }, [postOpen]);\r\n\r\n    return (\r\n        <div>\r\n            {commentId && (\r\n                <div>\r\n                    <CommentModal\r\n                        id={commentId}\r\n                        open={postOpen}\r\n                        onClickOut={() => setPostOpen(false)} />\r\n                </div>\r\n            )}\r\n            <Switch location={location}>\r\n                <Route exact path=\"/\" component={Board} />\r\n                <Route exact path=\"/comments/:id\" component={CommentPage} />\r\n                <Route exact path=\"/search/:text\" component={SearchResultsPage} />\r\n            </Switch>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RoutingSwitch;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,WAAxB,QAA2C,kBAA3C;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;;;AAEA,SAASC,aAAT,GAAyB;EAAA;;EAErB,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,KAAD,CAAxC,CAFqB,CAGrB;;EAEA,IAAIS,QAAQ,GAAGV,WAAW,EAA1B;EACA,IAAIW,SAAS,GAAG,IAAhB;;EAEA,IAAID,QAAQ,CAACE,KAAT,IAAkBF,QAAQ,CAACE,KAAT,CAAeD,SAArC,EAAgD;IAC5CD,QAAQ,CAACG,QAAT,GAAoB,GAApB;;IACA,IAAIL,QAAJ,EAAc;MACVG,SAAS,GAAGD,QAAQ,CAACE,KAAT,CAAeD,SAA3B;IACH,CAFD,MAEO;MACHD,QAAQ,CAACE,KAAT,CAAeD,SAAf,GAA2B,IAA3B;IACH;EAEJ;;EAEDT,SAAS,CAAC,MAAM;IACZO,WAAW,CAAC,IAAD,CAAX;EACH,CAFQ,EAEN,CAACE,SAAD,CAFM,CAAT;EAIAT,SAAS,CAAC,MAAM;IACZS,SAAS,GAAG,IAAZ;EACH,CAFQ,EAEN,CAACH,QAAD,CAFM,CAAT;EAIA,oBACI;IAAA,WACKG,SAAS,iBACN;MAAA,uBACI,QAAC,YAAD;QACI,EAAE,EAAEA,SADR;QAEI,IAAI,EAAEH,QAFV;QAGI,UAAU,EAAE,MAAMC,WAAW,CAAC,KAAD;MAHjC;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QAFR,eASI,QAAC,MAAD;MAAQ,QAAQ,EAAEC,QAAlB;MAAA,wBACI,QAAC,KAAD;QAAO,KAAK,MAAZ;QAAa,IAAI,EAAC,GAAlB;QAAsB,SAAS,EAAEP;MAAjC;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI,QAAC,KAAD;QAAO,KAAK,MAAZ;QAAa,IAAI,EAAC,eAAlB;QAAkC,SAAS,EAAEC;MAA7C;QAAA;QAAA;QAAA;MAAA,QAFJ,eAGI,QAAC,KAAD;QAAO,KAAK,MAAZ;QAAa,IAAI,EAAC,eAAlB;QAAkC,SAAS,EAAEE;MAA7C;QAAA;QAAA;QAAA;MAAA,QAHJ;IAAA;MAAA;MAAA;MAAA;IAAA,QATJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAiBH;;GA3CQC,a;UAKUP,W;;;KALVO,a;AA6CT,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}